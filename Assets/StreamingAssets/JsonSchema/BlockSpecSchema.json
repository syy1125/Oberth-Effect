{
    "$id": "BlockSpecSchema",
    "type": "object",
    "required": ["BlockId"],
    "properties": {
        "BlockId": { "type": "string" },
        "Enabled": { "type": "boolean" },
        "Info": {
            "type": "object",
            "properties": {
                "ShortName": {
                    "type": "string",
                    "description": "A shortened version of the block's name, used where space is limited."
                },
                "FullName": {
                    "type": "string",
                    "description": "The full name of the block as it appears on tooltips."
                },
                "Description": {
                    "type": "string",
                    "description": "Additional description of the block, can be either flavour text or explanation of the block's mechanics."
                },
                "PreviewScale": {
                    "type": "number",
                    "minimum": 0,
                    "default": 1,
                    "description": "Scaling factor of the block as it shows up in preview in the block palette. Useful for fitting larger blocks inside their respective frames."
                }
            }
        },
        "Renderers": { "$ref": "RendererSpecArraySchema.json" },
        "Construction": {
            "type": "object",
            "properties": {
                "ShowInDesigner": {
                    "type": "boolean",
                    "description": "If true, this block is shown in the block palette in the vehicle designer."
                },
                "AllowErase": {
                    "type": "boolean",
                    "description": "If true, the player can erase this block. Set to false for critical blocks like the vehicle core."
                },
                "BoundsMin": {
                    "$ref": "Vector2IntSchema.json",
                    "description": "Inclusive minimum bounds for the block, used in checking for block overlaps."
                },
                "BoundsMax": {
                    "$ref": "Vector2IntSchema.json",
                    "description": "Exclusive maximum bounds for the block, used in checking for block overlaps."
                },
                "AttachmentPoints": {
                    "type": "array",
                    "items": {
                        "$ref": "Vector2IntSchema.json"
                    },
                    "description": "List of points where this block can attach to other blocks. Two blocks are attached if and only if both of them have an attachment point in each other's bounds."
                }
            }
        },
        "Physics": {
            "type": "object",
            "properties": {
                "CenterOfMass": {
                    "$ref": "Vector2Schema.json",
                    "description": "The local position of the block's center of mass."
                },
                "Mass": {
                    "type": "number",
                    "description": "The mass of the block. For reference, a typical 1u x 1u block has 1 mass unit."
                },
                "MomentOfInertia": {
                    "type": "number",
                    "description": "The moment of inertia of this block about its center of mass."
                },
                "BoxCollider": {
                    "type": "object",
                    "properties": {
                        "Offset": { "$ref": "Vector2Schema.json" },
                        "ColliderSize": { "$ref": "Vector2Schema.json" }
                    },
                    "description": "Specifies the shape of the box collider for this block, if it should have one."
                },
                "PolygonCollider": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "Path": {
                                "type": "array",
                                "items": { "$ref": "Vector2Schema.json" }
                            }
                        }
                    },
                    "description": "Specifies the shape of the polygon collider for this block, if it should have one."
                }
            }
        },
        "Combat": {
            "type": "object",
            "properties": {
                "MaxHealth": {
                    "type": "number",
                    "description": "The maximum health of the block, and the health that the block starts with."
                },
                "ArmorValue": {
                    "type": "number",
                    "minimum": 1,
                    "maximum": 10,
                    "description": "The armor value of this block. Should be between 1 and 10, inclusive."
                },
                "IntegrityScore": {
                    "type": "number",
                    "description": "Currently unused. Eventually this is planned for use in tidal force stress computations."
                }
            }
        },
        "Propulsion": {
            "type": "object",
            "properties": {
                "Engine": {
                    "type": "object",
                    "properties": {
                        "MaxForce": {
                            "type": "number",
                            "description": "Maximum force of the engine in the up direction."
                        },
                        "MaxResourceUse": {
                            "type": "object",
                            "patternProperties": {
                                "^.*$": { "type": "number" }
                            },
                            "description": "Maximum resource usage of the engine."
                        },
                        "IsFuelPropulsion": {
                            "type": "boolean",
                            "description": "Indicates whether this engine classifies as a fuel propulsion block. If so, the player can turn these blocks on and off using a keybind."
                        },
                        "MaxThrottleRate": {
                            "type": "number",
                            "description": "Specifies the maximum rate at which the engine can increase or decrease thrust. A value of 1 indicates that in one second, the engine can increase or decrease its output by, and a value of 0.5 indicates a 50%, and so on."
                        },
                        "Particles": {
                            "type": "array",
                            "items": { "$ref": "ParticleSystemSpecSchema.json" },
                            "description": "Specifies the particles to be played when the engine is running."
                        }
                    },
                    "description": "An engine is generally regarded as the main form of propulsion for a vehicle. They are typically powerful but requires time to increase or decrease their thrust."
                },
                "OmniThruster": {
                    "type": "object",
                    "properties": {
                        "MaxForce": {
                            "type": "number",
                            "description": "The maximum force of the thruster in any particular cardinal direction."
                        },
                        "MaxResourceUse": {
                            "type": "object",
                            "patternProperties": {
                                "^.*$": { "type": "number" }
                            },
                            "description": "Maximum resource usage when the thruster is operating at 100% in two directions."
                        },
                        "IsFuelPropulsion": {
                            "type": "boolean",
                            "description": "Indicates whether this thruster classifies as a fuel propulsion block. If so, the player can turn these blocks on and off using a keybind."
                        },
                        "Particles": {
                            "type": "array",
                            "items": {
                                "$ref": "ParticleSystemSpecSchema.json"
                            },
                            "description": "Specifies the particles to be played when the thruster is running. The particle emitters will be rotated appropriately for thrusting in different directions."
                        }
                    },
                    "description": "An omni thruster is capable of outputting the specified amount of force in any cardinal direction."
                }
            }
        },
        "TurretedWeapon": {
            "type": "object",
            "properties": {
                "Turret": {
                    "type": "object",
                    "properties": {
                        "RotationSpeed": {
                            "type": "number",
                            "description": "The maximum rotation speed of the turret in degrees per second."
                        },
                        "TurretPivotOffset": {
                            "$ref": "Vector2Schema.json",
                            "description": "The local position of the point that turret sub-object rotates around."
                        },
                        "Renderers": {
                            "$ref": "RendererSpecArraySchema.json"
                        }
                    }
                },
                "ProjectileWeaponEffect": {
                    "allOf": [{ "$ref": "BaseWeaponEffectSpecSchema.json" }],
                    "properties": {
                        "ClusterCount": {
                            "type": "integer"
                        },
                        "BurstCount": {
                            "type": "integer"
                        },
                        "ColliderSize": {
                            "$ref": "Vector2Schema.json"
                        },
                        "Speed": {
                            "type": "number"
                        },
                        "MaxLifetime": {
                            "type": "number"
                        },
                        "ReloadTime": {
                            "type": "number"
                        },
                        "Renderers": {
                            "$ref": "RendererSpecArraySchema.json"
                        },
                        "ProjectileParticles": {
                            "type": "array",
                            "items": {
                                "$ref": "ParticleSystemSpecSchema.json"
                            }
                        }
                    }
                }
            }
        }
    }
}